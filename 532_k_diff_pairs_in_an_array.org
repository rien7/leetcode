:PROPERTIES:
:ID:       9e48724d-e23f-4abe-998d-6a1ace560552
:ROAM_REFS: https://leetcode.com/problems/k-diff-pairs-in-an-array/submissions/
:END:
#+title: 532. K-diff Pairs in an Array
#+filetags: :Medium:

* [[id:2b2e3e1f-924b-43fe-a7f8-a1eb6482d2f2][问题]]
Given an array of integers ~nums~ and an integer ~k~, return /the number of *unique* k-diff pairs in the array/.

A *k-diff* pair is an integer pair ~(nums[i], nums[j])~, where the following are true:

- ~0 <= i < j < nums.length~
- ~|nums[i] - nums[j]| == k~

*Notice* that ~|val|~ denotes the absolute value of ~val~.

*Example 1:*

#+BEGIN_SRC
Input: nums = [3,1,4,1,5], k = 2
Output: 2
Explanation: There are two 2-diff pairs in the array, (1, 3) and (3, 5).
Although we have two 1s in the input, we should only return the number of unique pairs.
#+END_SRC

Example 2:

#+BEGIN_SRC
Input: nums = [1,2,3,4,5], k = 1
Output: 4
Explanation: There are four 1-diff pairs in the array, (1, 2), (2, 3), (3, 4) and (4, 5).
#+END_SRC

Example 3:

#+BEGIN_SRC
Input: nums = [1,3,1,5,4], k = 0
Output: 1
Explanation: There is one 0-diff pair in the array, (1, 1).
#+END_SRC

*Constraints:*

- ~1 <= nums.length <= 10^{4}~
- ~-10^{7} <= nums[i] <= 10^{7}~
- ~0 <= k <= 10^{7}~

* 思路
这一道题目比较常见, 是一眼看过去就是两个循环解题的问题. 重点在于如何将时间复杂度化成 O(n), 一般来说, 会使用数组或哈希表来存储一些结果, 用空间换时间.

这一道题求的是两个数的差为 k, 反过来说, 一个数与 k 的差如果存在于列表中, 那么就说明是我们想要的值.

因此使用哈希表来存储每一个数与 k 的差, 其值为出现次数.

* 代码
#+BEGIN_SRC go
func findPairs(nums []int, k int) int {
    res := 0
    m := make(map[int]int, 0)
    for _, num := range nums {
        m[num]++
    }
    for K, v := range m {
        if k > 0 && m[K+k] > 0 {
            res++
        } else if k == 0 && v > 1 {
            res++
        }
    }
    return res
}
#+END_SRC
